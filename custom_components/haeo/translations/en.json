{
  "config": {
    "flow_title": "HAEO Setup",
    "step": {
      "user": {
        "title": "HAEO Setup",
        "description": "Configure your system and choose a planning horizon that matches your forecast data availability.",
        "data": { "advanced_mode": "Advanced Mode", "horizon_preset": "Planning Horizon", "name": "System Name" },
        "data_description": { "advanced_mode": "Reveals additional element types for complex energy systems." },
        "sections": {
          "advanced": { "data": { "advanced_mode": "Advanced Mode" }, "name": "Advanced settings" },
          "basic": { "data": { "horizon_preset": "Planning Horizon", "name": "System Name" }, "name": "Basic settings" }
        }
      },
      "custom_tiers": {
        "title": "Custom Tier Configuration",
        "description": "Configure custom interval tiers. Near-term intervals are more granular for precise control, while longer-term intervals reduce complexity.",
        "data": {
          "tier_1_count": "Tier 1 Count (fine-grained)",
          "tier_1_duration": "Tier 1 Duration (minutes)",
          "tier_2_count": "Tier 2 Count (short-term)",
          "tier_2_duration": "Tier 2 Duration (minutes)",
          "tier_3_count": "Tier 3 Count (medium-term)",
          "tier_3_duration": "Tier 3 Duration (minutes)",
          "tier_4_count": "Tier 4 Count (long-term)",
          "tier_4_duration": "Tier 4 Duration (minutes)"
        }
      }
    },
    "error": { "name_exists": "A system with this name already exists" },
    "abort": { "already_configured": "HAEO already configured" }
  },
  "options": {
    "step": {
      "custom_tiers": {
        "title": "Custom Tier Configuration",
        "description": "Configure custom interval tiers. Near-term intervals are more granular for precise control, while longer-term intervals reduce complexity.",
        "data": {
          "tier_1_count": "Tier 1 Count (fine-grained)",
          "tier_1_duration": "Tier 1 Duration (minutes)",
          "tier_2_count": "Tier 2 Count (short-term)",
          "tier_2_duration": "Tier 2 Duration (minutes)",
          "tier_3_count": "Tier 3 Count (medium-term)",
          "tier_3_duration": "Tier 3 Duration (minutes)",
          "tier_4_count": "Tier 4 Count (long-term)",
          "tier_4_duration": "Tier 4 Duration (minutes)"
        }
      },
      "init": {
        "title": "HAEO Settings",
        "description": "Configure optimization settings. Choose a planning horizon that matches your forecast data availability.",
        "data": {
          "advanced_mode": "Advanced Mode",
          "debounce_seconds": "Debounce Window (seconds)",
          "horizon_preset": "Planning Horizon",
          "record_forecasts": "Record forecast data"
        },
        "data_description": {
          "advanced_mode": "Reveals additional element types for complex energy systems.",
          "record_forecasts": "When enabled, forecast attributes are saved to the recorder database. This significantly increases database size but allows debugging historical forecasts. Disabled by default to reduce database load."
        },
        "sections": {
          "advanced": {
            "data": {
              "advanced_mode": "Advanced Mode",
              "debounce_seconds": "Debounce Window (seconds)",
              "record_forecasts": "Record forecast data"
            },
            "name": "Advanced settings"
          },
          "basic": { "data": { "horizon_preset": "Planning Horizon" }, "name": "Basic settings" }
        }
      }
    },
    "error": {
      "cannot_connect_to_self": "Cannot connect a device to itself",
      "invalid_name": "Invalid device name",
      "max_power_must_be_positive_for_bidirectional": "Maximum power must be positive for bidirectional connections",
      "min_power_negative_not_allowed_unidirectional": "Minimum power cannot be negative for unidirectional connections",
      "min_power_too_high": "Minimum power must be less than or equal to maximum power",
      "name_exists": "A device with this name already exists"
    },
    "abort": {
      "no_participants": "No devices are currently connected to this system",
      "reload_failed": "Failed to reload the integration after configuration changes. Please check your configuration and try again."
    }
  },
  "config_subentries": {
    "battery": {
      "flow_title": "Battery",
      "entry_type": "Battery",
      "initiate_flow": { "user": "Battery", "reconfigure": "Battery" },
      "step": {
        "user": {
          "title": "Battery Configuration",
          "description": "Configure battery parameters for energy optimization",
          "data": {
            "capacity": "Capacity",
            "configure_partitions": "Configure battery partitions",
            "connection": "Connection",
            "discharge_cost": "Discharge Cost",
            "early_charge_incentive": "Early Charge Incentive",
            "efficiency": "Round-trip Efficiency",
            "initial_charge_percentage": "State of Charge",
            "max_charge_percentage": "Max Charge Level",
            "max_charge_power": "Max Charging Power",
            "max_discharge_power": "Max Discharging Power",
            "min_charge_percentage": "Min Charge Level",
            "name": "Battery Name"
          },
          "sections": {
            "details": {
              "data": { "connection": "Connection", "name": "Battery Name" },
              "name": "Details"
            },
            "storage": {
              "data": { "capacity": "Capacity", "initial_charge_percentage": "State of Charge" },
              "name": "Storage"
            },
            "limits": {
              "data": {
                "max_charge_percentage": "Max Charge Level",
                "max_charge_power": "Max Charging Power",
                "max_discharge_power": "Max Discharging Power",
                "min_charge_percentage": "Min Charge Level"
              },
              "name": "Limits"
            },
            "pricing": {
              "data": {
                "early_charge_incentive": "Early Charge Incentive",
                "discharge_cost": "Discharge Cost"
              },
              "name": "Pricing"
            },
            "advanced": {
              "data": {
                "configure_partitions": "Configure battery partitions",
                "efficiency": "Round-trip Efficiency"
              },
              "name": "Advanced settings"
            }
          }
        },
        "partition_values": {
          "title": "Battery Partition Values",
          "description": "Enter values for the partition input sources",
          "data": { "cost": "Cost", "percentage": "Percentage" }
        },
        "partitions": {
          "title": "Battery Partitions",
          "description": "Select entities for undercharge and overcharge regions",
          "data": { "cost": "Cost", "percentage": "Percentage" },
          "sections": {
            "overcharge": {
              "data": { "cost": "Overcharge cost", "percentage": "Overcharge percentage" },
              "name": "Overcharge settings"
            },
            "undercharge": {
              "data": { "cost": "Undercharge cost", "percentage": "Undercharge percentage" },
              "name": "Undercharge settings"
            }
          }
        }
      },
      "error": { "missing_name": "Name is required", "name_exists": "A device with this name already exists" },
      "abort": { "reconfigure_successful": "Configuration updated successfully" }
    },
    "battery_section": {
      "flow_title": "Battery Section",
      "entry_type": "Battery Section",
      "initiate_flow": { "user": "Battery Section", "reconfigure": "Battery Section" },
      "step": {
        "user": {
          "title": "Battery Section Configuration",
          "description": "Configure a single battery section with explicit capacity and initial charge. Connect to other elements using Connection elements.",
          "data": { "capacity": "Capacity", "initial_charge": "Initial Charge", "name": "Battery Section Name" },
          "sections": {
            "details": { "data": { "name": "Battery Section Name" }, "name": "Details" },
            "storage": { "data": { "capacity": "Capacity", "initial_charge": "Initial Charge" }, "name": "Storage" }
          }
        }
      },
      "error": { "missing_name": "Name is required", "name_exists": "A device with this name already exists" },
      "abort": { "reconfigure_successful": "Configuration updated successfully" }
    },
    "connection": {
      "flow_title": "Connection",
      "entry_type": "Connection",
      "initiate_flow": { "user": "Connection", "reconfigure": "Connection" },
      "step": {
        "user": {
          "title": "Connection Configuration",
          "description": "Configure connection parameters between devices",
          "data": {
            "efficiency_source_target": "Efficiency Source to Target",
            "efficiency_target_source": "Efficiency Target to Source",
            "max_power_source_target": "Max Power Source to Target",
            "max_power_target_source": "Max Power Target to Source",
            "name": "Connection Name",
            "price_source_target": "Price Source to Target",
            "price_target_source": "Price Target to Source",
            "source": "Source Device",
            "target": "Target Device"
          },
          "sections": {
            "details": { "data": { "name": "Connection Name" }, "name": "Details" },
            "endpoints": {
              "data": { "source": "Source Device", "target": "Target Device" },
              "name": "Endpoints"
            },
            "limits": {
              "data": {
                "max_power_source_target": "Max Power Source to Target",
                "max_power_target_source": "Max Power Target to Source"
              },
              "name": "Limits"
            },
            "pricing": {
              "data": {
                "price_source_target": "Price Source to Target",
                "price_target_source": "Price Target to Source"
              },
              "name": "Pricing"
            },
            "advanced": {
              "data": {
                "efficiency_source_target": "Efficiency Source to Target",
                "efficiency_target_source": "Efficiency Target to Source"
              },
              "name": "Advanced settings"
            }
          }
        }
      },
      "error": {
        "cannot_connect_to_self": "Cannot connect a device to itself",
        "max_power_must_be_positive_for_bidirectional": "Maximum power must be positive for bidirectional connections",
        "min_power_negative_not_allowed_unidirectional": "Minimum power cannot be negative for unidirectional connections",
        "min_power_too_high": "Minimum power must be less than or equal to maximum power",
        "missing_name": "Name is required",
        "name_exists": "A device with this name already exists"
      },
      "abort": { "reconfigure_successful": "Configuration updated successfully" }
    },
    "grid": {
      "flow_title": "Grid",
      "entry_type": "Grid",
      "initiate_flow": { "user": "Grid", "reconfigure": "Grid" },
      "step": {
        "user": {
          "title": "Grid Configuration",
          "description": "Configure grid import/export parameters and pricing",
          "data": {
            "connection": "Connection",
            "export_limit": "Export Limit",
            "export_price": "Export Price",
            "import_limit": "Import Limit",
            "import_price": "Import Price",
            "name": "Grid Name"
          },
          "sections": {
            "details": { "data": { "connection": "Connection", "name": "Grid Name" }, "name": "Details" },
            "limits": { "data": { "export_limit": "Export Limit", "import_limit": "Import Limit" }, "name": "Limits" },
            "pricing": { "data": { "export_price": "Export Price", "import_price": "Import Price" }, "name": "Pricing" }
          }
        }
      },
      "error": { "missing_name": "Name is required", "name_exists": "A device with this name already exists" },
      "abort": { "reconfigure_successful": "Configuration updated successfully" }
    },
    "inverter": {
      "flow_title": "Inverter",
      "entry_type": "Inverter",
      "initiate_flow": { "user": "Inverter", "reconfigure": "Inverter" },
      "step": {
        "user": {
          "title": "Inverter Configuration",
          "description": "Configure bidirectional inverter with DC bus for battery and solar connections",
          "data": {
            "connection": "AC Connection",
            "efficiency_ac_to_dc": "AC to DC Efficiency",
            "efficiency_dc_to_ac": "DC to AC Efficiency",
            "max_power_ac_to_dc": "Max AC to DC Power",
            "max_power_dc_to_ac": "Max DC to AC Power",
            "name": "Inverter Name"
          },
          "sections": {
            "advanced": {
              "data": { "efficiency_ac_to_dc": "AC to DC Efficiency", "efficiency_dc_to_ac": "DC to AC Efficiency" },
              "name": "Advanced settings"
            },
            "details": { "data": { "connection": "AC Connection", "name": "Inverter Name" }, "name": "Details" },
            "limits": {
              "data": { "max_power_ac_to_dc": "Max AC to DC Power", "max_power_dc_to_ac": "Max DC to AC Power" },
              "name": "Limits"
            }
          }
        }
      },
      "error": { "missing_name": "Name is required", "name_exists": "A device with this name already exists" },
      "abort": { "reconfigure_successful": "Configuration updated successfully" }
    },
    "load": {
      "flow_title": "Load",
      "entry_type": "Load",
      "initiate_flow": { "user": "Load", "reconfigure": "Load" },
      "step": {
        "user": {
          "title": "Load Configuration",
          "description": "Configure a load with forecast or constant power.\n\n[HAFO]({hafo_url}) can be used to generate forecast sensors.",
          "data": { "connection": "Connection", "forecast": "Forecast", "name": "Load Name" },
          "sections": {
            "details": { "data": { "connection": "Connection", "name": "Load Name" }, "name": "Details" },
            "forecast": { "data": { "forecast": "Forecast" }, "name": "Forecast" }
          }
        }
      },
      "error": { "missing_name": "Name is required", "name_exists": "A device with this name already exists" },
      "abort": { "reconfigure_successful": "Configuration updated successfully" }
    },
    "network": {
      "flow_title": "HAEO",
      "entry_type": "HAEO",
      "initiate_flow": { "user": "HAEO", "reconfigure": "HAEO" },
      "step": {},
      "abort": { "reconfigure_successful": "Configuration updated successfully" }
    },
    "node": {
      "flow_title": "Node",
      "entry_type": "Node",
      "initiate_flow": { "user": "Node", "reconfigure": "Node" },
      "step": {
        "user": {
          "title": "Node Configuration",
          "description": "Add a node for power balance calculations or to source/sink unlimited power.",
          "data": {
            "is_sink": "Can consume unlimited power (Sink)",
            "is_source": "Can produce unlimited power (Source)",
            "name": "Node Name"
          },
          "sections": {
            "advanced": {
              "data": {
                "is_sink": "Can consume unlimited power (Sink)",
                "is_source": "Can produce unlimited power (Source)"
              },
              "name": "Advanced settings"
            },
            "details": { "data": { "name": "Node Name" }, "name": "Details" }
          }
        }
      },
      "error": { "missing_name": "Name is required", "name_exists": "A device with this name already exists" },
      "abort": { "reconfigure_successful": "Configuration updated successfully" }
    },
    "solar": {
      "flow_title": "Solar",
      "entry_type": "Solar",
      "initiate_flow": { "user": "Solar", "reconfigure": "Solar" },
      "step": {
        "user": {
          "title": "Solar Configuration",
          "description": "Configure solar forecasting and parameters",
          "data": {
            "connection": "Connection",
            "curtailment": "Allow Curtailment",
            "forecast": "Forecast",
            "name": "Solar Name",
            "price_production": "Production Price"
          },
          "sections": {
            "details": {
              "data": { "connection": "Connection", "name": "Solar Name" },
              "name": "Details"
            },
            "forecast": { "data": { "forecast": "Forecast" }, "name": "Forecast" },
            "pricing": { "data": { "price_production": "Production Price" }, "name": "Pricing" },
            "advanced": { "data": { "curtailment": "Allow Curtailment" }, "name": "Advanced settings" }
          }
        }
      },
      "error": { "missing_name": "Name is required", "name_exists": "A device with this name already exists" },
      "abort": { "reconfigure_successful": "Configuration updated successfully" }
    }
  },
  "common": { "default_hub_name": "Home", "network_subentry_name": "System", "switchboard_node_name": "Switchboard" },
  "device": {
    "battery": { "name": "{name}" },
    "battery_section": { "name": "{name}" },
    "connection": { "name": "{name}" },
    "grid": { "name": "{name}" },
    "inverter": { "name": "{name}" },
    "load": { "name": "{name}" },
    "network": { "name": "Optimizer" },
    "node": { "name": "{name}" },
    "solar": { "name": "{name}" }
  },
  "entity": {
    "number": {
      "battery_capacity": { "name": "Capacity" },
      "battery_cost": { "name": "Cost" },
      "battery_discharge_cost": { "name": "Discharge cost" },
      "battery_early_charge_incentive": { "name": "Early charge incentive" },
      "battery_efficiency": { "name": "Efficiency" },
      "battery_initial_charge_percentage": { "name": "Initial charge" },
      "battery_max_charge_percentage": { "name": "Max charge" },
      "battery_max_charge_power": { "name": "Max charge power" },
      "battery_max_discharge_power": { "name": "Max discharge power" },
      "battery_min_charge_percentage": { "name": "Min charge" },
      "battery_percentage": { "name": "Percentage" },
      "connection_efficiency_source_target": { "name": "Source to target efficiency" },
      "connection_efficiency_target_source": { "name": "Target to source efficiency" },
      "connection_max_power_source_target": { "name": "Max source to target power" },
      "connection_max_power_target_source": { "name": "Max target to source power" },
      "connection_price_source_target": { "name": "Source to target price" },
      "connection_price_target_source": { "name": "Target to source price" },
      "grid_export_limit": { "name": "Export limit" },
      "grid_export_price": { "name": "Export price" },
      "grid_import_limit": { "name": "Import limit" },
      "grid_import_price": { "name": "Import price" },
      "inverter_efficiency_ac_to_dc": { "name": "AC to DC efficiency" },
      "inverter_efficiency_dc_to_ac": { "name": "DC to AC efficiency" },
      "inverter_max_power_ac_to_dc": { "name": "Max AC to DC power" },
      "inverter_max_power_dc_to_ac": { "name": "Max DC to AC power" },
      "load_forecast": { "name": "Forecast" },
      "solar_forecast": { "name": "Forecast" },
      "solar_price_production": { "name": "Production price" }
    },
    "sensor": {
      "battery_energy_in_flow": { "name": "Energy in flow shadow price" },
      "battery_energy_out_flow": { "name": "Energy out flow shadow price" },
      "battery_energy_stored": { "name": "Energy stored" },
      "battery_power_active": { "name": "Active power" },
      "battery_power_balance": { "name": "Power balance shadow price" },
      "battery_power_charge": { "name": "Charge power" },
      "battery_power_discharge": { "name": "Discharge power" },
      "battery_section_energy_in_flow": { "name": "Energy in flow shadow price" },
      "battery_section_energy_out_flow": { "name": "Energy out flow shadow price" },
      "battery_section_energy_stored": { "name": "Energy stored" },
      "battery_section_power_active": { "name": "Active power" },
      "battery_section_power_balance": { "name": "Power balance shadow price" },
      "battery_section_power_charge": { "name": "Charge power" },
      "battery_section_power_discharge": { "name": "Discharge power" },
      "battery_section_soc_max": { "name": "SOC max shadow price" },
      "battery_section_soc_min": { "name": "SOC min shadow price" },
      "battery_soc_max": { "name": "SOC max shadow price" },
      "battery_soc_min": { "name": "SOC min shadow price" },
      "battery_state_of_charge": { "name": "State of charge" },
      "connection_power_active": { "name": "{source} to {target} active power" },
      "connection_power_source_target": { "name": "{source} to {target} power" },
      "connection_power_target_source": { "name": "{target} to {source} power" },
      "connection_shadow_power_max_source_target": { "name": "Max {source} to {target} power shadow price" },
      "connection_shadow_power_max_target_source": { "name": "Max {target} to {source} power shadow price" },
      "connection_time_slice": { "name": "Time slice shadow price" },
      "grid_cost_import": { "name": "Import cost" },
      "grid_cost_net": { "name": "Net cost" },
      "grid_power_active": { "name": "Active power" },
      "grid_power_export": { "name": "Export power" },
      "grid_power_import": { "name": "Import power" },
      "grid_power_max_export_price": { "name": "Max export power shadow price" },
      "grid_power_max_import_price": { "name": "Max import power shadow price" },
      "grid_revenue_export": { "name": "Export revenue" },
      "horizon": { "name": "Forecast horizon" },
      "inverter_dc_bus_power_balance": { "name": "DC bus power balance shadow price" },
      "inverter_max_power_ac_to_dc_price": { "name": "Max AC to DC power shadow price" },
      "inverter_max_power_dc_to_ac_price": { "name": "Max DC to AC power shadow price" },
      "inverter_power_ac_to_dc": { "name": "AC to DC power" },
      "inverter_power_active": { "name": "Active power" },
      "inverter_power_dc_to_ac": { "name": "DC to AC power" },
      "load_forecast_limit_price": { "name": "Forecast limit shadow price" },
      "load_power": { "name": "Power" },
      "network_optimization_cost": { "name": "Cost" },
      "network_optimization_duration": { "name": "Duration" },
      "network_optimization_status": { "name": "Status" },
      "node_power_balance": { "name": "Power balance shadow price" },
      "solar_forecast_limit": { "name": "Forecast limit shadow price" },
      "solar_power": { "name": "Power" }
    },
    "switch": {
      "network_auto_optimize": { "name": "Auto optimize" },
      "node_is_sink": { "name": "Is sink" },
      "node_is_source": { "name": "Is source" },
      "solar_curtailment": { "name": "Curtailment" }
    }
  },
  "exceptions": {
    "config_entry_not_found": { "message": "Config entry {entry_id} not found" },
    "config_entry_not_loaded": { "message": "Config entry {entry_id} is not loaded (state: {state})" },
    "config_entry_wrong_domain": { "message": "Config entry {entry_id} is not a HAEO hub (domain: {domain})" },
    "input_entities_not_ready": {
      "message": "Input entities not ready after {timeout} seconds: {not_ready}. Some sensors may not be available yet."
    },
    "missing_sensors": {
      "message": "HAEO cannot load data for {unavailable_sensors}. Verify each referenced sensor exists and is reporting data."
    },
    "no_history_at_time": {
      "message": "No history available at time {time} for: {missing}. The recorder may not have data this far back."
    },
    "self_referential_field_missing": {
      "message": "Configuration error for field {field}: The entity created by this field was selected, but the field is missing from the stored configuration. This may indicate corrupted configuration data. Please recreate the element."
    },
    "self_referential_invalid_value": {
      "message": "Configuration error for field {field}: The entity created by this field was selected, but the stored value is not a valid scalar (found {value_type}). This may indicate corrupted configuration data. Please recreate the element."
    },
    "self_referential_no_current_data": {
      "message": "Configuration error for field {field}: The entity created by this field was selected, but no previous configuration exists. This may indicate corrupted configuration data. Please recreate the element."
    },
    "setup_failed_permanent": {
      "message": "Setup failed due to configuration error: {error}. Please check your configuration."
    },
    "setup_failed_transient": { "message": "Setup failed: {error}. Home Assistant will retry automatically." }
  },
  "issues": {
    "disconnected_network": {
      "title": "System has disconnected components",
      "description": "The system has {num_components} disconnected groups of elements that cannot exchange power.\n\nTo fix this issue:\n1. Review the following groups: {component_summary}\n2. Open the HAEO integration configuration options\n3. Add or adjust connections so every element belongs to the same group\n4. Save your changes; this issue will clear automatically once the system is fully connected"
    },
    "invalid_config": {
      "title": "Invalid configuration for {element_name}",
      "description": "Element {element_name} has an invalid configuration: {config_problem}\n\nTo fix this issue:\n1. Open the HAEO integration settings\n2. Navigate to the {element_name} element configuration\n3. Correct the configuration problem described above\n4. Save your changes and reload the integration"
    },
    "missing_sensor": {
      "title": "Missing sensor data for {element_name}",
      "description": "The HAEO integration cannot find sensor data for element {element_name}. The sensor entity {sensor_entity_id} may not exist or may be unavailable.\n\nTo fix this issue:\n1. Check that the sensor entity exists in Home Assistant\n2. Verify the sensor is available and reporting data\n3. If the sensor was removed, reconfigure the element to use a different sensor\n4. If the sensor is temporarily unavailable, this issue will automatically dismiss when the sensor becomes available again"
    },
    "optimization_failure": {
      "title": "Optimization failed",
      "description": "The HAEO optimization failed with the following error: {error_message}\n\nThis could be caused by:\n1. Missing or invalid sensor/forecast data\n2. Conflicting constraints in your configuration\n3. Issues with the selected solver\n\nSteps to resolve:\n1. Check the Home Assistant logs for detailed error information\n2. Verify all required sensors are available and reporting valid data\n3. Review your system configuration for conflicting constraints\n4. Try a different optimization solver in the integration settings\n5. This issue will automatically dismiss when optimization succeeds"
    }
  },
  "selector": {
    "horizon_preset": {
      "options": { "2_days": "2 days", "3_days": "3 days", "5_days": "5 days", "7_days": "7 days", "custom": "Custom" }
    },
    "input_source": { "choices": { "constant": "Constant", "entity": "Entity", "none": "None" } }
  },
  "services": {
    "optimize": {
      "description": "Runs an optimization for then given system",
      "fields": { "config_entry": { "description": "The HAEO system to run an optimization for", "name": "System" } },
      "name": "Optimize"
    },
    "save_diagnostics": {
      "description": "Save a diagnostics file to the config directory",
      "fields": {
        "config_entry": { "description": "The HAEO system to save diagnostics for", "name": "System" },
        "time": {
          "description": "Generates a diagnostics file based on entity states at this historical time. Uses current state if omitted.",
          "name": "Time"
        }
      },
      "name": "Save diagnostics"
    }
  }
}
